# Mini API Containeris√©e üê≥

Ce projet est une API REST d√©velopp√©e avec **FastAPI** et **PostgreSQL**. Son objectif principal est de d√©montrer des comp√©tences avanc√©es en **Dockerisation** et en d√©veloppement d'applications Python robustes.

## üöÄ Fonctionnalit√©s

L'API permet de g√©rer une liste d'items via des op√©rations CRUD :

- `GET /status` : V√©rification de l'√©tat du service (Healthcheck).
- `GET /items` : R√©cup√©rer la liste des items.
- `POST /items` : Cr√©er un nouvel item.
- `DELETE /items/{item_id}` : Supprimer un item par son ID.

## üõ† Stack Technique

- **Langage** : Python 3.11
- **Framework** : FastAPI
- **Base de donn√©es** : PostgreSQL (via `psycopg2`)
- **Tests** : Pytest & Unittest Mock
- **Qualit√© de code** : Pylint (Score : **10.00/10**)

## üì¶ Points Forts Docker

Le `Dockerfile` a √©t√© con√ßu en suivant les meilleures pratiques de s√©curit√© et d'optimisation :

1.  **Multi-stage Build** : Utilisation d'une √©tape `builder` pour compiler les d√©pendances et d'une √©tape `runner` finale pour all√©ger l'image.
2.  **S√©curit√© (Non-root)** : L'application s'ex√©cute avec un utilisateur d√©di√© (`appuser`, UID 1001) au lieu de `root`.
3.  **Healthcheck Natif** : Int√©gration d'une instruction `HEALTHCHECK` utilisant un script Python l√©ger pour v√©rifier la disponibilit√© de l'API sans d√©pendre d'outils externes comme `curl`.
4.  **Optimisation du Cache** : Les d√©pendances (`requirements.txt`) sont install√©es avant la copie du code source pour optimiser le cache des couches Docker.

## ‚öôÔ∏è Configuration

L'application se configure via des variables d'environnement :

| Variable  | Description                | Valeur par d√©faut |
| :-------- | :------------------------- | :---------------- |
| `DB_HOST` | H√¥te de la base de donn√©es | `db`              |
| `DB_NAME` | Nom de la base de donn√©es  | `postgres`        |
| `DB_USER` | Utilisateur PostgreSQL     | `postgres`        |
| `DB_PASS` | Mot de passe PostgreSQL    | `password`        |

## ‚ñ∂Ô∏è D√©marrage Rapide

### Avec Docker

Construire l'image :

```bash
docker build -t mini-api .
```

Lancer le conteneur (n√©cessite une instance PostgreSQL accessible) :

```bash
docker run -p 8000:8000 --env DB_HOST=host.docker.internal mini-api
```

## Tests

L'API dispose d'une suite de tests compl√®te couvrant les cas nominaux et les erreurs.

```bash
# Lancer les tests
pytest
```
